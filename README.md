# TOIB_PR4

# Практическое задание №4 "Контроль целотности"

## Установка и запуск виртуальной машины Astra Linux
Для выполнения данного задания был скачан и установлен образ Astra Linux ( ссылка - https://1drv.ms/u/s!Ap1Ijs338IQ9gZFmLJ5hn45FgcVLoQ?e=mH7Jzg ). Установлена версия системы "Смоленкс" с максимальным уровнем защиты
![image](https://github.com/Flameitser/TOIB_PR4/assets/65831927/0c9f24cd-840a-4fbb-ab65-ed8350df56ac)

## Установка и проверка мандатного контроля целостности

![image](https://github.com/Flameitser/TOIB_PR4/assets/65831927/f237b24d-73e3-42ea-89b7-bda307a8a607)


Для измнения конфигурации МКЦ в Astra Linux необходимо зайти в "Управление политикой безопасности"
![image](https://github.com/Flameitser/TOIB_PR4/assets/65831927/1d7352ec-03a4-4dcf-ac22-d8c30b5f4815)


В меню "Режим эксперта" назначаем уровни целостности для директорий. В качестве проверки правила NWU обозначили 2 тестовые директории ("Видео" и "Документы") с правами:
![image](https://github.com/Flameitser/TOIB_PR4/assets/65831927/3359395f-94ad-48c0-b117-df51a9ccfc15)


Проверяем настройку мандатного контроля зайдя в учетную запись с атрибутом целостности на уровне "Низкий".
Здесь можно увидеть, что копирование файла с атрибутом ниже в папку с атрибутом выше не сработало - была получена ошибка доступа. В то же время "запись вниз" работает.
![image](https://github.com/Flameitser/TOIB_PR4/assets/65831927/a774af21-39e9-4354-825c-e5ab05fea744)


## Работа с режимом замкнутой программной среды

![image](https://github.com/Flameitser/TOIB_PR4/assets/65831927/ffd92153-66d4-4598-887b-ef4131384b12)


## Работа с утилитами контроля целостности и регламентного контроля целостности
### Использование `gostsum`
Утилита `gostsum` вычисляет хэш-сумму файлов в соответствии с ГОСТ Р 34.11-2012. Пример использования с .deb пакетом установки Discord:

![image](https://github.com/Flameitser/TOIB_PR4/assets/65831927/52267f16-f869-4c36-b796-61399acb8422)

![image](https://github.com/Flameitser/TOIB_PR4/assets/65831927/9cfa3798-262f-4942-bc06-9f8ab068c277)


### Использование `afick`
`afick` - утилита, предназначенная для контроля целостности файловой системы ОС. Для корректной работы утилиты сначала создаём БД утилиты:
![image](https://github.com/Flameitser/TOIB_PR4/assets/65831927/15c06d66-200a-4804-9d75-980f0a67b12f)

Далее изменяем часть системных файлов для получения ответа от утилиты, перед этим делаем "бэкап" файл:
![image](https://github.com/Flameitser/TOIB_PR4/assets/65831927/f7bc6503-17d5-4da8-aeb8-d8104fbebc48)

Получили результат от утилиты:
![image](https://github.com/Flameitser/TOIB_PR4/assets/65831927/5c8c99ae-ad82-4809-ab5e-ea08cfe518c0)

![image](https://github.com/Flameitser/TOIB_PR4/assets/65831927/a5c9320f-6763-4e65-90ea-a73edc5a4c32)
